
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticker NBA</title>
    <script src="../../../static/ticker_detail.js"></script>

</head>
<style>
/* .page_background{
        background: #f7f7f7;
    }
.grid {
    display: grid;
    align-items: center;
    place-items: center;
    height: 100%;
    width: 100%
}
.grid_1x2 {
    grid-template-columns: repeat(2,50%);
}
.grid_nav_1x3 {
    grid-template-columns: auto 1500px auto;
}
.grid_1x3 {
    grid-template-columns:repeat(3,calc(100%/3));
}
.grid_1x4 {
    grid-template-columns:repeat(4,calc(100%/4));
}
.grid_4x2 {
    grid-template-rows:repeat(4,calc(340px/4));
    grid-template-columns: repeat(2,calc(360px/2));

}
.grid_1x10 {
    grid-template-columns: 10% 15% 10% 15% 10% 15% 10% 15% 10% 15%;
}
.grid_2x1 {
    grid-template-rows: 50% 50%;
}
.grid_1x9 {
    grid-template-columns: 10% 20% 5% 5% 5% 15% 5% 15% 5% 15%;
}
.middle_section {
    width:100%;   
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
   }
.header {
    margin-top:86px;
    text-align: center;
    font-size:34px;
    font-weight: 700;
    color: #00474f;
    padding-top: 40px;
    width:100%
}
.tickerPageGameDetails {
    width:70%;
    border-radius: 25px;
    height:120px !important;
    margin-top:30px;
    text-align: center;  
    color:#5F5F5F
}
.gamePeriod {
    border-radius: 25px;
    width:100%;
    height:100%;
    font-size:26px;
    color:white;
    background:linear-gradient(to bottom, #016D74, #01373A);
    display: flex;
    align-items: center;
    justify-content: center;
}
.tickerPageHomeTeam, .tickerPageAwayTeam {
    width:100%;
    text-align: left;
    font-size:22px;
    padding-left:30px;
}
.tickerPageHomeTeam, .tickerPageHomeScore {
    padding-top:10px;
}
.tickerPageAwayTeam, .tickerPageAwayScore {
    padding-bottom:10px;
}
.tickerPageHomeScore, .tickerPageAwayScore {
    width:100%;
    font-size:22px;
}
.tickerPageGameDate,.tickerPageGameTime, .tickerPageGameLocation {
    font-size: 18x;    
}
.tickerPageDateIcon,.tickerPageTimeIcon,.tickerPageLocationIcon {
    width: 30px;
    height:30px;
} 
.tickerPageGameDate, .tickerPageGameDetails, .tickerPageGameLocation {
    font-size:16px;
    font-weight: 400;
}
.tickerPageGameLocation {
    padding-right:10px;
}
.tickerPageUserCard {
    width: 100%;
    height: 130px !important;
    border-radius: 25px;
    background: linear-gradient(to bottom, #016D74, #01373A);
    margin-top:30px;
    color:white;
    align-content: left;
}
.tickerPageUserCard img {
    margin-left: auto;
    display: block; 
    width: 70px;
    height:70px;
}
.tickerPageUserCardTop {
    color:#15965A;
    font-size:30px;
    margin-top:auto;
    display: block;
    margin-right:auto;
    margin-left:20px;
}
.tickerPageUserCardBottom {
    color:white;
    font-size:18px;
    padding-top:10px;
    margin-bottom:auto;
    display: block;
    margin-right:auto;
    margin-left:20px;
}
.tickerPageCandlestickCard {
    width: 745px;
    height:500px;
    border-radius: 25px;
    background: white;    
    margin-top:10px;
    margin-right:5px;
    display: flex;
    flex-direction:column;
    justify-content: center;
    text-align: center;
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

#chart-div {
    width:96%;
    height:98%;
    border-radius: 25px;
    margin:0 auto;
    margin-top:20px;
    z-index: 0;
    }

.tickerPageStatisticsCard {
    color:#5F5F5F;
    width: 745px;
    height:500px;
    border-radius: 25px;
    background: white;;
    margin-top:10px;
    margin-left:5px;
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);

}
.tickerPageStatisticsCard header {
    text-align: center;
    font-size:24px;
    margin-top:20px;
    margin-bottom:20px;
}
.tickerPageStatisticsCard table {
    height: 410px;
    width:100%;
    text-align: center;
    border-collapse: collapse;
}


.tickerPageStatisticsCard tr:nth-child(odd) {background-color: #f7f7f7;}

.tickerPageStatisticsCardButtonLeft {
    padding: 4px 40px;
    background: #016D74;
    border-radius: 25px;
    color:white;
    border: none;
}
.tickerPageStatisticsCardButtonRight {
    padding: 4px 40px;  
    background: #06979C;
    border-radius: 25px;
    color:white;
    border: none;
}


.tickerPageBuyOrderbookTable td {
    color:#15965A;
}
.tickerPageBuyRight {
    background: #E4F0EB;
}

.tickerPageSellOrderbookTable td {
    color:#B51F1F;
}
.tickerPageSellRight {
    background: #F5E4E5;
}

.tickerPageBuyOrderbookCard ,
.tickerPageSellOrderbookCard {
    margin-top:10px;
    width:495px;
    height:500px;
    background: white;
    margin-right:5px;
    border-radius: 25px;
    text-align: center;
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.tickerPageOrderbookTableHeader {
    background:#f7f7f7;
    height:50px;
    font-size: 24px;
    color:#5F5F5F
}

.tickerPageBuyOrderbookTable,
.tickerPageSellOrderbookTable {
    height: 400px;
    table-layout: fixed;
    margin:0 auto;
    border-collapse: collapse;
    margin-top:35px
}

.tickerPageBuyOrderbookTableRows, 
.tickerPageSellOrderbookTableRows {
    height:32px;
}

.tickerPageBuyOrderbookTable tr th,
.tickerPageSellOrderbookTable tr th {
    width:160px;
    background:#f7f7f7;
    font-size: 24px;
} 
.tickerPageBuyOrderbookCard header, .tickerPageSellOrderbookCard header, .tickerPageOrderSubmissionCard header {
    font-size:30px;
    color:black;
    margin-top:30px;
    margin-bottom:10px;
}

.tickerPageOrderSubmissionCard {
    margin-top:10px;
    width:495px;
    height:500px;
    background:white;
    margin-left:5px;
    border-radius: 25px;
    text-align: center;   
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);

}
.tickerPageOrderSubmissionField {
    height: auto !important;;
    margin: 0 auto;
    justify-content: center;
}
.tickerPageOrderSubmissionPlaceOrderLeft {
    width:100%;
    text-align: left;
    font-size:24px;
    color: #5F5F5F
}

.tickerPageOrderSelect {
    padding-left:15px;
    width: 100%;
    background: var(--color-background-light);
    border-radius: 15px;
    height: 40px;
    border:none
}

.tickerPageSideSelect {
    padding-left:15px;
    width: 100%;
    background: var(--color-background-light);
    border-radius: 15px;
    height: 40px;
    border:none;
    color:#000E10

}
.tickerPagePriceInput {
    width:100%;
    background: var(--color-background-light);
    border: none;
    height:40px;
    border-radius: 15px;
}
.tickerPagePriceInput input {
    margin-left:20px;
    width:160px;
}
.tickerPagePriceInput input:focus, .tickerPageQuantityInput input:focus  {
outline: none;
}

.tickerPageQuantityInput {
    width:100%;
    height:40px;
    border: none;
    border-radius: 15px;
    background: var(--color-background-light);
}
.tickerPageQuantityInput input {
    margin-left:20px;
    width:160px;
}

.tickerPageUserStatistics {
    width:100%;
    margin-bottom:50px;
}
.tickerPageUserStatisticsHeader {
    text-align: center;
    font-size: 24px;
    margin:40px 0;
    color:#1B1C1E
}
.tickerPageUserTableCard {
    width: 100%;
    margin-top:10px;
    background: white;
    border-radius: 25px;
    min-height:500px;
    height:auto;
}
.tickerPageUserTableCard table {
    text-align: center;
    align-items: center;
    width: 99%;
    height:100%;
    margin: 0 auto;
    border-radius: 25px;
}
.tickerPageUserTableCard th {
    padding:20px 20px 16px 20px;
    font-size: 16px;
    color:#1B1C1E
}
.tickerPageUserTableCard tr {
    margin-bottom:10px;
}
.tickerPageUserTableCard td {
    font-size: 14px;
    font-weight:400;
    color:#5F5F5F;
     padding-bottom:20px;
}

.tickerPageUserStatisticsCancelButton {
    border-radius: 15px;
    color:#016D74;
    font-size: 12px;
    font-weight:600;
    background-color: transparent;
    border: solid 1px #016D74;
    padding: 5px 20px;
    justify-content: center;
    cursor: pointer;
}
.tickerPageUserStatisticsCancelButton:hover {
    color:white;
    background: #016D74;
}
.tickerPageUserStatisticsButtonContainer {
    width:100%;
    background:paleturquoise;
    height:50px !important;
    border-radius: 25px;
}
.tickerPageUserStatisticsButtonLeft {
    width:100%;
    border-radius: 25px 0 0 25px;
    height:100%;
    border:none;
    color:#00474f;
    font-size:20px;
    background: white;
    cursor:pointer;
}

.tickerPageUserStatisticsButtonMiddle {
    width:100%;
    height:100%;
    border:none;
    color:#00474f;
    font-size:20px;
    border-left: 1px solid #FFF;
    background: white;
    cursor:pointer;
}
.tickerPageUserStatisticsButtonRight {
    width:100%;
    border-radius: 0 25px 25px 0;
    height:100%;
    border:none;
    color:#00474f;
    font-size:20px;
    border-left: 1px solid #FFF;
    background: white;
    cursor:pointer;

}
.tickerPageUserStatisticsButtonLeft:hover,
.tickerPageUserStatisticsButtonMiddle:hover, 
.tickerPageUserStatisticsButtonRight:hover  {
    background:var(--linear-gradient-light);
    color:white;
}

.tickerPageUserStatisticsButtonLeft:focus,
.tickerPageUserStatisticsButtonMiddle:focus,
.tickerPageUserStatisticsButtonRight:focus {
    background:var(--linear-gradient-light);
    color:white;
}

.tickerPageSubmitButton {
    border-radius: 25px;
    color:#016D74;
    font-size: 16px;
    font-weight:600;
    background-color: transparent;
    border: solid 3px #016D74;
    padding: 12px 50px;
    justify-content: center;
    margin-top:10px;
}
.tickerPageSubmitButton:hover {
    border:none;
    color:white;
    background: #016D74;
}

.tickerPageOrderSubmitNonUser {
    color:#5F5F5F;
    font-size: 22px;
    margin-top: 200px;
}
.tickerPageTableNonUser {
    text-align: center; 
    font-size:28px;
    color:#5F5F5F;
    margin-top:80px;
    margin-bottom:80px
}

.tickerPageUserTableToggle {
    color:#00474F;
    font-size: 18px;
    width:200px;
    height:30px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin:0 auto;
    margin-top:10px;
    padding-bottom:20px;
}

.tickerPageUserTableToggle h4 {
    color:#00474F;
    margin-left:20px;
    margin-right:20px;
}
.tickerPageArrowLeft img {
    width:20px;
    height: 20px;
    transform: rotate(180deg);
}
.tickerPageArrowRight img {
    width:20px;
    height: 20px;
} */
</style>

<div class="grid grid_nav_1x3 page_background">
    <div class="empty"></div>
    <div class="middle_section">
        <!-- Header  -->

        <div class="header">{{ticker_detail.ticker_game.game_league_1.league_name}}</div>
        <div class="tickerPageGameDetails grid grid_1x9">
            {% if ticker_detail.ticker_game.game_progress %}
                <div class="gamePeriod">{{ticker_detail.ticker_game.game_progress}}</div>
            {% else %}
                <div class="gamePeriod">NS</div>
            {% endif %}
            <div class="grid grid_2x1">
                <div class="tickerPageHomeTeam">{{ticker_detail.ticker_game.game_away_team.team_name}}</div>
                <div class="tickerPageAwayTeam">{{ticker_detail.ticker_game.game_home_team.team_name}}</div>
            </div>
            <div class="grid grid_2x1">
                {% if not ticker_detail.ticker_game.game_away_team_score %}
                    <div class="tickerPageHomeScore">-</div>
                {% else %}
                    <div class="tickerPageHomeScore">{{ticker_detail.ticker_game.game_away_team_score}}</div>
                {% endif %}

                {% if not ticker_detail.ticker_game.game_home_team_score %}
                    <div class="tickerPageHomeScore">-</div>
                {% else %}
                    <div class="tickerPageAwayScore">{{ticker_detail.ticker_game.game_home_team_score}}</div>
                {% endif %}

            </div>
            <div class="empty"></div>
            <div>
                <img class="tickerPageDateIcon" src="../../../static/img/calendar-icon.png" alt="">
            </div>
            <div class="tickerPageGameDate">
                {{ticker_detail.ticker_game.game_start_datetime}}
            </div>
            <div>
                <img class="tickerPageTimeIcon" src="../../../static/img/clock-icon.png" alt="">
            </div>
            <div class="tickerPageGameTime">{{ticker_detail.ticker_game.game_start_datetime}}</div>
             <div>
                <img  class="tickerPageLocationIcon" src="../../../static/img/location-icon.png" alt="">
            </div>
            <div class="tickerPageGameLocation">{{ticker_detail.ticker_game.game_venue}}</div>
        </div>

        <!-- Game + User Info Card  -->
        <div class="tickerPageUserCard grid grid_1x10">
            <img src="../../../static/img/wallet-icon-white.png" alt="">
            <div class="grid grid_2x1">
                <div class="tickerPageUserCardTop">{{user.userprofileinfo.available_balance}}</div>
                <div class="tickerPageUserCardBottom">Balance</div>

            </div>
            <img src="../../../static/img/file-icon.png" alt="">
            <div class="grid grid_2x1">
                <div class="tickerPageUserCardTop">{{ticker_detail.ticker_status}}</div>
                <div class="tickerPageUserCardBottom">Status</div>

            </div>
            <img src="../../../static/img/clipboard-icon.png" alt="">
            <div class="grid grid_2x1">
                <div class="tickerPageUserCardTop">{{ticker_detail.ticker_volume}}</div>
                <div class="tickerPageUserCardBottom">Volume</div>

            </div>
            <img src="../../../static/img/coin-icon.png" alt="">
            <div class="grid grid_2x1">
                <div class="tickerPageUserCardTop">{{ticker_detail.last_price}}</div>
                <div class="tickerPageUserCardBottom">Last Price</div>
            </div>

        </div>

        <!-- Chart + Statistics Card  -->
        <div class="grid grid_1x2">

            <!-- Candlestick Graph  -->
            <div class="tickerPageCandlestickCard">
                
                <div id="chart-div">
                    <script type="text/javascript" src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
                    <script type="text/javascript" src="../../../static/trading_view.js"></script>
                    <div id="chart-container" value="{{ticker_detail.ticker_id}}">{{ticker_detail.ticker_id}}</div>
                </div>

               

                
            </div>

            <!-- Statistics Graph  -->
            <div class="tickerPageStatisticsCard">
                <header>Statistics</header>
                
                <table class="tickerPageStatisticsCardTable">
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td> </td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td> </td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td> </td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td> </td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td> </td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td> </td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td> </td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td> </td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                </table>

                    
            </div>
        </div>

        <!-- Orderbook + Order Submission Field  -->
        <div class="grid grid_1x3">

            <!-- Buy Orderbook  -->
            <div class="tickerPageBuyOrderbookCard">
                <header>Orderbook Buy</header>
                <table class="tickerPageBuyOrderbookTable">
                    
                    <tr>
                        <th class="tickerPageOrderbookTableHeader">Price</th>
                        <th class="tickerPageOrderbookTableHeader">Quantity</th>
                    </tr>
                    {% for buy_order in buy_orders|slice:":10" %}

                        <tr class="tickerPageBuyOrderbookTableRows">
                            <td data-class="Price">{{buy_order.order_price}}</td>
                            <td class="tickerPageBuyRight" data-class="Quantity">{{buy_order.order_total_quantity}}</td>
                        </tr>
                    {% endfor %}

                    <tr>
                        <td style="color:white">0</td>
                        <td class="tickerPageBuyRight" style="color:#F5E4E5">0</td>
                    </tr>

                    
                </table>
            </div>

            <!-- Sell Side  -->
            <div class="tickerPageSellOrderbookCard">
                <header>Orderbook Sell</header>
                <table class="tickerPageSellOrderbookTable">
                    
                    <tr>
                        <th class="tickerPageOrderbookTableHeader">Price</th>
                        <th class="tickerPageOrderbookTableHeader">Quantity</th>
                    </tr>
                    {% for sell_order in sell_orders|slice:":10" %}
                    
                        <tr class="tickerPageSellOrderbookTableRows">
                            <td data-class="Price">{{sell_order.order_price}}</td>
                            <td class="tickerPageSellRight" data-class="Quantity">{{sell_order.order_total_quantity}}</td>
                        </tr>
                    {% endfor %}
                    
                    <tr>
                        <td style="color:white">0</td>
                        <td class="tickerPageSellRight" style="color:#F5E4E5">0</td>
                    </tr>
                </table>
            </div>

            <!-- Order Submission Card  -->
            <div class="tickerPageOrderSubmissionCard">
                <header>Place Order</header>
                {% if user.is_authenticated %}

                <form id="order-form" method="POST" action="" class="form__order">
                {% csrf_token %}
                    <div class="tickerPageOrderSubmissionField grid grid_4x2">
                        <div class="tickerPageOrderSubmissionPlaceOrderLeft">Order Type</div>
                        <select class="tickerPageOrderSelect" name="order_type">
                            <option value="" style="color:#000E10;" disabled selected>Select</option>
                            <option value="MARKET">Market</option>
                            <option value="LIMIT">Limit</option>
                        </select>
                        <div class="tickerPageOrderSubmissionPlaceOrderLeft">Side</div>
                        <select class="tickerPageSideSelect" name="side">
                            <option value="" style="color:#000E10;" disabled selected>Select</option>
                            <option value="BUY">Buy</option>
                            <option value="SELL">Sell</option>
                        </select>
                        <div class="tickerPageOrderSubmissionPlaceOrderLeft">Price</div>
                        <div class="tickerPagePriceInput">
                            <input class="tickerPagePriceInput" type="text" placeholder="$0.00" name="price">
                        </div>
                        <div class="tickerPageOrderSubmissionPlaceOrderLeft">Quantity</div>
                        <div class="tickerPageQuantityInput">
                            <input class="tickerPageQuantityInput" type="text" placeholder="0" name="quantity">
                        </div>
                        </div>
                        <input type="hidden" name="ticker_id" value="{{ticker_detail.pk}}">
                        <button class="tickerPageSubmitButton" type="submit" name="action" value="submit_order">Submit</button>
                </form>
                {% else %}
                    <div class="tickerPageOrderSubmitNonUser">Please Login to place an Order</div>
                {% endif %}
            </div>

        </div>
    
        <!-- User Statistics  -->
        <div class="tickerPageUserStatistics">
            <div class="tickerPageUserStatisticsHeader">Recent Activity</div>
            <div class="tickerPageUserStatisticsButtonContainer grid grid_1x4">
                <a 
                    id="orders-tab"
                    href="#" 
                    class="tickerPageUserStatisticsButtonLeft">
                    <button class="tickerPageUserStatisticsButtonLeft">Orders</button>
                </a>
                <a 
                    id="fills-tab"
                    href="#" 
                    class="tickerPageUserStatisticsButtonMiddle">
                    <button class="tickerPageUserStatisticsButtonMiddle">Fills</button>
                </a>
                <a 
                    id="positions-tab"
                    href="#" 
                    class="tickerPageUserStatisticsButtonMiddle">
                    <button class="tickerPageUserStatisticsButtonMiddle">Positions</button>
                </a>
                <a 
                    id="historic-orders-tab"
                    href="#" 
                    class="tickerPageUserStatisticsButtonRight">
                    <button class="tickerPageUserStatisticsButtonRight">Historic Orders</button>    
                </a>    
            </div>

            {% if user.is_authenticated %}
                <div class="tickerPageUserTableCard" id="orders-section">
                    <table>
                        <tr>
                            <th>Match</th>
                            <th>Timestamp</th>
                            <th>Order Type</th>
                            <th>Side</th>
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Filled Quantity</th>
                            <th>Working Quantity</th>
                            <th>Avg. Fill Price</th>
                            <th>Status</th>
                            <th>Paid Fees</th>
                            <th>Cancel</th>
                        </tr>
                    {% for order in user_orders|slice:":20" %}
                        {% if order.order_status == "OPEN" or order.order_status == "PARTIAL" %}
                        <tr>
                            <td data-class="Match">{{ticker_detail.ticker_id}}</td>
                            <td data-class="Timestamp">{{order.order_creation_timestamp}}</td>
                            <td data-class="Order Type">{{order.order_type}}</td>
                            <td data-class="Side">{{order.order_side}}</td>
                            <td data-class="Price">{{order.order_price}}</td>
                            <td data-class="Quantity">{{order.order_quantity}}</td>
                            <td data-class="Filled Quantity">{{order.order_filled_quantity}}</td>
                            <td data-class="Working Quantity">{{order.order_working_quantity}}</td>                   
                            <td data-class="Avg. Fill Price">{{order.order_avg_fill_price}}</td>
                            <td data-class="Status">{{order.order_status}}</td>
                            <td data-class="Paid Fees">{{order.order_paid_fees}}</td>
                            <td data-class="Cancel"> 
                                <!-- Cancel Button  -->
                                <form id="cancellation-form" method="POST" action="{% url 'exchange_app:ticker_detail' ticker_detail.pk %}" class="cancel__order">
                                    {% csrf_token %}
                                    <button class="tickerPageUserStatisticsCancelButton" name="action" type="submit" value="cancel_order">Cancel</button>
                                    <input type="hidden" name="order_id" value="{{order.order_id}}">
                                </form>

                            </td>
                        </tr>
                        {% endif %}
                    {% endfor %}
                    </table>
                    <div class="tickerPageUserTableToggle">
                        <a href="#" class="tickerPageArrowLeft"> 
                            <img class="" src="../../../static/img/small-arrow-icon.png"alt="">
                        </a>
                        <h4>Page 1 of {{user_orders|length}}</h4>
                        <a href="#" class="tickerPageArrowRight"> 
                            <img class="" src="../../../static/img/small-arrow-icon.png"alt="">
                        </a>
                    </div>
                </div>

                <div class="tickerPageUserTableCard" id="fills-section">
                    <table>
                        <tr>
                            <th>Timestamp</th>
                            <th>Ticker</th>
                            <th>Side</th>
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Order ID</th>
                        </tr>
                    {% for fill in user_fills|slice:":20" %}
                        <tr>
                            <td data-class="Timestamp">{{fill.fill_timestamp}}</td>
                            <td data-class="Ticker">{{fill.fill_ticker.ticker_id}}</td>
                            <td data-class="Side">{{fill.fill_side}}</td>
                            <td data-class="Price">{{fill.fill_price}}</td>
                            <td data-class="Quantity">{{fill.fill_quantity}}</td>
                            <td data-class="Fill ID">{{fill.fill_id}}</td>
                        </tr>
                    {% endfor %}
                    </table>

                    <div class="tickerPageUserTableToggle">
                        <a href="" class="tickerPageArrowLeft"> 
                            <img class="" src="../../../static/img/small-arrow-icon.png"alt="">
                        </a>
                        <h4>20 of {{user_fills|length}}</h4>
                        <a href="" class="tickerPageArrowRight"> 
                            <img class="" src="../../../static/img/small-arrow-icon.png"alt="">
                        </a>
                    </div>
                </div>


                <div class="tickerPageUserTableCard" id="positions-section">
                    <table>
                        <tr>
                            <th>Ticker</th>
                            <th>Position</th>
                            <th>Average Price</th>
                            <th>Open PnL</th>
                            <th>Closed PnL</th>
                        </tr>
                    {% for position in user_positions|slice:":20" %}
                        <tr>
                            <td data-class="Ticker">{{position.position_ticker.ticker_id}}</td>
                            <td data-class="Position">{{position.position_quantity}}</td>
                            <td data-class="Average Price">{{position.position_avg_price}}</td>
                            <td data-class="Open PnL">{{position.position_open_pnl}}</td>
                            <td data-class="Closed PnL">{{position.position_closed_pnl}}</td>
                        </tr>
                    {% endfor %}
                    </table>

                    <div class="tickerPageUserTableToggle">
                        <a href="" class="tickerPageArrowLeft"> 
                            <img class="" src="../../../static/img/small-arrow-icon.png"alt="">
                        </a>
                        <h4>20 of {{user_positions|length}}</h4>
                        <a href="" class="tickerPageArrowRight"> 
                            <img class="" src="../../../static/img/small-arrow-icon.png"alt="">
                        </a>
                    </div>
                </div>

                <div class="tickerPageUserTableCard" id="historic-orders-section">
                    <table>
                        <tr>
                            <th>Match</th>
                            <th>Timestamp</th>
                            <th>Order Type</th>
                            <th>Side</th>
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Filled Quantity</th>
                            <th>Working Quantity</th>
                            <th>Avg. Fill Price</th>
                            <th>Status</th>
                            <th>Paid Fees</th>
                            <th>Cancel</th>
                        </tr>
                    {% for order in user_orders|slice:":20" %}
                        <tr>
                            <td data-class="Match">{{ticker_detail.ticker_id}}</td>
                            <td data-class="Timestamp">{{order.order_creation_timestamp}}</td>
                            <td data-class="Order Type">{{order.order_order_type}}</td>
                            <td data-class="Side">{{order.order_side}}</td>
                            <td data-class="Price">{{order.order_price}}</td>
                            <td data-class="Quantity">{{order.order_quantity}}</td>
                            <td data-class="Filled Quantity">{{order.order_filled_quantity}}</td>
                            <td data-class="Working Quantity">{{order.order_working_quantity}}</td>                   
                            <td data-class="Avg. Fill Price">{{order.order_avg_fill_price}}</td>
                            <td data-class="Status">{{order.order_status}}</td>
                            <td data-class="Paid Fees">{{order.order_paid_fees}}</td>
                            <td data-class="Cancel"> 
                                <!-- Cancel Button  -->
                                <form id="cancellation-form" method="POST" action="{% url 'exchange_app:ticker_detail' ticker_detail.pk %}" class="cancel__order">
                                    {% csrf_token %}
                                    <button class="tickerPageUserStatisticsCancelButton" name="action" type="submit" value="cancel_order">Cancel</button>
                                    <input type="hidden" name="order_id" value="{{order.order_id}}">
                                </form>
                            </td>
                        </tr>
                    {% endfor %}

                    </table>
                    <div class="tickerPageUserTableToggle">
                        <a href="#" class="tickerPageArrowLeft"> 
                            <img class="" src="../../../static/img/small-arrow-icon.png"alt="">
                        </a>
                        <h4>Page 1 of {{user_orders|length}}</h4>
                        <a href="#" class="tickerPageArrowRight"> 
                            <img class="" src="../../../static/img/small-arrow-icon.png"alt="">
                        </a>
                    </div>
                </div>

            <!-- If not logged in  -->
            {% else %}
                <div class="tickerPageTableNonUser">Please Login to place an Order</div>
            {% endif %}
        </div>

    </div>



    <div class="empty"></div>

</div>


</html>