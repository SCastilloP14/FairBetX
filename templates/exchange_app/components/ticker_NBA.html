<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticker NBA</title>

</head>
<style>
.page_background{
        background: #f7f7f7;
    }
.grid {
    display: grid;
    align-items: center;
    place-items: center;
    height: 100%;
    width: 100%
}
.grid_1x2 {
    grid-template-columns: repeat(2,50%);
}
.grid_nav_1x3 {
    grid-template-columns: auto 1500px auto;
}
.grid_1x3 {
    grid-template-columns:repeat(3,calc(100%/3));
}
.grid_1x4 {
    grid-template-columns:repeat(4,calc(100%/4));
}
.grid_4x2 {
    grid-template-rows:repeat(4,calc(340px/4));
    grid-template-columns: repeat(2,calc(360px/2));

}
.grid_1x10 {
    grid-template-columns: 10% 15% 10% 15% 10% 15% 10% 15% 10% 15%;
}
.grid_2x1 {
    grid-template-rows: 50% 50%;
}
.grid_1x9 {
    grid-template-columns: 10% 20% 5% 5% 5% 15% 5% 15% 5% 15%;
}
.middle_section {
    width:100%;   
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
   }
.header {
    margin-top:86px;
    text-align: center;
    font-size:34px;
    font-weight: 700;
    color: #00474f;
    padding-top: 40px;
    width:100%
}
.tickerPageGameDetails {
    width:70%;
    border-radius: 25px;
    height:120px !important;
    margin-top:30px;
    text-align: center;  
    color:#5F5F5F
}
.gamePeriod {
    border-radius: 25px;
    width:100%;
    height:100%;
    font-size:26px;
    color:white;
    background:linear-gradient(to bottom, #016D74, #01373A);
    display: flex;
    align-items: center;
    justify-content: center;
}
.tickerPageHomeTeam, .tickerPageAwayTeam {
    width:100%;
    text-align: left;
    font-size:22px;
    padding-left:30px;
}
.tickerPageHomeTeam, .tickerPageHomeScore {
    padding-top:10px;
}
.tickerPageAwayTeam, .tickerPageAwayScore {
    padding-bottom:10px;
}
.tickerPageHomeScore, .tickerPageAwayScore {
    width:100%;
    font-size:22px;
}
.tickerPageGameDate,.tickerPageGameTime, .tickerPageGameLocation {
    font-size: 18x;    
}
.tickerPageDateIcon,.tickerPageTimeIcon,.tickerPageLocationIcon {
    width: 30px;
    height:30px;
} 
.tickerPageGameDate, .tickerPageGameDetails, .tickerPageGameLocation {
    font-size:16px;
    font-weight: 400;
}
.tickerPageGameLocation {
    padding-right:10px;
}
.tickerPageUserCard {
    width: 100%;
    height: 130px !important;
    border-radius: 25px;
    background: linear-gradient(to bottom, #016D74, #01373A);
    margin-top:30px;
    color:white;
    align-content: left;
}
.tickerPageUserCard img {
    margin-left: auto;
    display: block; 
    width: 70px;
    height:70px;
}
.tickerPageUserCardTop {
    color:#15965A;
    font-size:30px;
    margin-top:auto;
    display: block;
    margin-right:auto;
    margin-left:20px;
}
.tickerPageUserCardBottom {
    color:white;
    font-size:18px;
    padding-top:10px;
    margin-bottom:auto;
    display: block;
    margin-right:auto;
    margin-left:20px;
}
.tickerPageCandlestickCard {
    width: 745px;
    height:500px;
    border-radius: 25px;
    background: white;    
    margin-top:10px;
    margin-right:5px;
    display: flex;
    flex-direction:column;
    justify-content: center;
    text-align: center;
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

#chart-div {
    width:96%;
    height:98%;
    border-radius: 25px;
    margin:0 auto;
    margin-top:20px;
    }

.tickerPageStatisticsCard {
    color:#5F5F5F;
    width: 745px;
    height:500px;
    border-radius: 25px;
    background: white;;
    margin-top:10px;
    margin-left:5px;
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);

}
.tickerPageStatisticsCard header {
    text-align: center;
    font-size:24px;
    margin-top:20px;
    margin-bottom:20px;
}
.tickerPageStatisticsCard table {
    height: 410px;
    width:100%;
    text-align: center;
    border-collapse: collapse;
}


.tickerPageStatisticsCard tr:nth-child(odd) {background-color: #f7f7f7;}

.tickerPageStatisticsCardButtonLeft {
    padding: 4px 40px;
    background: #016D74;
    border-radius: 25px;
    color:white;
    border: none;
}
.tickerPageStatisticsCardButtonRight {
    padding: 4px 40px;  
    background: #06979C;
    border-radius: 25px;
    color:white;
    border: none;
}


/* Buy Orders  */
.tickerPageBuyOrderbookTable td {
    color:#15965A;
}
.tickerPageBuyRight {
    background: #E4F0EB;
}

 /* Sell Orderbook  */
.tickerPageSellOrderbookTable td {
    color:#B51F1F;
}
.tickerPageSellRight {
    background: #F5E4E5;
}

 /* Buy and Sell Orderbook  */
.tickerPageBuyOrderbookCard ,
.tickerPageSellOrderbookCard {
    margin-top:10px;
    width:495px;
    height:500px;
    background: white;
    margin-right:5px;
    border-radius: 25px;
    text-align: center;
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.tickerPageOrderbookTableHeader {
    background:#f7f7f7;
    height:50px;
    font-size: 24px;
    color:#5F5F5F
}

.tickerPageBuyOrderbookTable,
.tickerPageSellOrderbookTable {
    height: 400px;
    table-layout: fixed;
    margin:0 auto;
    border-collapse: collapse;
    margin-top:35px
}

.tickerPageBuyOrderbookTableRows, 
.tickerPageSellOrderbookTableRows {
    height:32px;
}

.tickerPageBuyOrderbookTable tr th,
.tickerPageSellOrderbookTable tr th {
    width:160px;
    background:#f7f7f7;
    font-size: 24px;
} 
.tickerPageBuyOrderbookCard header, .tickerPageSellOrderbookCard header, .tickerPageOrderSubmissionCard header {
    font-size:30px;
    color:black;
    margin-top:30px;
    margin-bottom:10px;
}






/* Order Submission Card  */
.tickerPageOrderSubmissionCard {
    margin-top:10px;
    width:495px;
    height:500px;
    background:white;
    margin-left:5px;
    border-radius: 25px;
    text-align: center;   
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);

}
.tickerPageOrderSubmissionField {
    height: auto !important;;
    margin: 0 auto;
    justify-content: center;
}
.tickerPageOrderSubmissionPlaceOrderLeft {
    width:100%;
    text-align: left;
    font-size:24px;
    color: #5F5F5F
}

.tickerPageOrderSelect {
    padding-left:15px;
    width: 100%;
    background: #f7f7f7;
    border-radius: 15px;
    height: 40px;
    border:none
}

.tickerPageSideSelect {
    padding-left:15px;
    width: 100%;
    background: #f7f7f7;
    border-radius: 15px;
    height: 40px;
    border:none;
    color:#000E10

}
.tickerPagePriceInput {
    width:100%;
    background: #f7f7f7;
    border: none;
    height:40px;
    border-radius: 15px;
}
.tickerPagePriceInput input {
    margin-left:20px;
    width:160px;
}
.tickerPagePriceInput input:focus, .tickerPageQuantityInput input:focus  {
outline: none;
}

.tickerPageQuantityInput {
        /* padding-left:15px; */
    width:100%;
    height:40px;
    border: none;
    border-radius: 15px;
    background: #f7f7f7;
}
.tickerPageQuantityInput input {
    margin-left:20px;
    width:160px;
}

/* User Stats  */
.tickerPageUserStatistics {
    width:100%;
    margin-bottom:50px;
}
.tickerPageUserStatisticsHeader {
    text-align: center;
    font-size: 24px;
    margin:40px 0;
    color:#1B1C1E
}
.tickerPageUserTableCard {
    width: 100%;
    margin-top:10px;
    background: white;
    border-radius: 25px;
    min-height:500px;
    height:auto;
}
.tickerPageUserTableCard table {
    text-align: center;
    align-items: center;
    width: 99%;
    height:100%;
    margin: 0 auto;
    /* margin-top:10px; */
    border-radius: 25px;
}
.tickerPageUserTableCard th {
    padding:20px 20px 16px 20px;
    font-size: 16px;
    color:#1B1C1E
}
.tickerPageUserTableCard tr {
    margin-bottom:10px;
}
.tickerPageUserTableCard td {
    font-size: 14px;
    font-weight:400;
    color:#5F5F5F;
     padding-bottom:20px;
}

.tickerPageUserStatisticsCancelButton {
    border-radius: 15px;
    color:#016D74;
    font-size: 12px;
    font-weight:600;
    background-color: transparent;
    border: solid 1px #016D74;
    padding: 5px 20px;
    justify-content: center;
}
.tickerPageUserStatisticsCancelButton:hover {
    color:white;
    background: #016D74;
}
.tickerPageUserStatisticsButtonContainer {
    width:100%;
    background:paleturquoise;
    height:50px !important;
    border-radius: 25px;
}
.tickerPageUserStatisticsButtonLeft {
    width:100%;
    border-radius: 25px 0 0 25px;
    height:100%;
    border:none;
    color:#00474f;
    font-size:20px;
    background: white;
    cursor:pointer;
}
.tickerPageUserStatisticsButtonMiddle {
    width:100%;
    height:100%;
    border:none;
    color:#00474f;
    font-size:20px;
    border-left: 1px solid #FFF;
    background: white;
    cursor:pointer;
}
.tickerPageUserStatisticsButtonRight {
    width:100%;
    border-radius: 0 25px 25px 0;
    height:100%;
    border:none;
    color:#00474f;
    font-size:20px;
    border-left: 1px solid #FFF;
    background: white;
    cursor:pointer;

}
.tickerPageUserStatisticsButtonLeft:hover,.tickerPageUserStatisticsButtonMiddle:hover, .tickerPageUserStatisticsButtonRight:hover  {
    color:white;
    background:linear-gradient(to bottom, #016D74, #01373A);;
}

.tickerPageSubmitButton {
    border-radius: 25px;
    color:#016D74;
    font-size: 16px;
    font-weight:600;
    background-color: transparent;
    border: solid 3px #016D74;
    padding: 12px 50px;
    justify-content: center;
    margin-top:10px;
}
.tickerPageSubmitButton:hover {
    border:none;
    color:white;
    background: #016D74;
}

.tickerPageOrderSubmitNonUser {
    color:#5F5F5F;
    font-size: 22px;
    margin-top: 200px;
}
</style>
<div class="grid grid_nav_1x3 page_background">
    <div class="empty"></div>
    <div class="middle_section">
        <!-- Header  -->

        <div class="header">{{ticker_detail.match.league}}</div>
        <div class="tickerPageGameDetails grid grid_1x9">
            {% if ticker_detail.match.status == "SCHEDULED" %}
                <div class="gamePeriod">Scheduled</div>
            {% else %}
                    <div class="tickerPageHomeScore">{{ticker_detail.match.status}}</div>
            {% endif %}
            <div class="grid grid_2x1">
                <div class="tickerPageHomeTeam">{{ticker_detail.match.away_team.name}}</div>
                <div class="tickerPageAwayTeam">{{ticker_detail.match.home_team.name}}</div>
            </div>
            <div class="grid grid_2x1">
                {% if not ticker_detail.match.away_team.away_team_score %}
                    <div class="tickerPageHomeScore">-</div>
                {% else %}
                    <div class="tickerPageHomeScore">{{ticker_detail.match.away_team_score}}</div>
                {% endif %}

                {% if not ticker_detail.match.away_team.away_team_score %}
                    <div class="tickerPageHomeScore">-</div>
                {% else %}
                    <div class="tickerPageAwayScore">{{ticker_detail.match.home_team_score}}</div>
                {% endif %}

            </div>
            <div class="empty"></div>
            <div>
                <img class="tickerPageDateIcon" src="../../../static/img/calendar-icon.png" alt="">
            </div>
            <div class="tickerPageGameDate">
                {{ticker_detail.match.date}}
            </div>
            <div>
                <img class="tickerPageTimeIcon" src="../../../static/img/clock-icon.png" alt="">
            </div>
            <div class="tickerPageGameTime">{{ticker_detail.match.start_time}}</div>
             <div>
                <img  class="tickerPageLocationIcon" src="../../../static/img/location-icon.png" alt="">
            </div>
            <div class="tickerPageGameLocation">{{ticker_detail.match.location}}</div>
        </div>

        <!-- Game + User Info Card  -->
        <div class="tickerPageUserCard grid grid_1x10">
            <img src="../../../static/img/wallet-icon-white.png" alt="">
            <div class="grid grid_2x1">
                {% if user.userprofileinfo.available_balance %}
                <div class="tickerPageUserCardTop">{{user.userprofileinfo.available_balance}}</div>
                {% else %}
                <div class="tickerPageUserCardTop">$-.--</div>
                {% endif %}
                <div class="tickerPageUserCardBottom">Balance</div>

            </div>
            <img src="../../../static/img/file-icon.png" alt="">
            <div class="grid grid_2x1">
                {% if ticker_detail.volume %}
                    <div class="tickerPageUserCardTop">{{ticker_detail.status}}</div>
                {% else %}
                    <div class="tickerPageUserCardTop">Scheduled</div>
                {% endif %}
                <div class="tickerPageUserCardBottom">Status</div>

            </div>
            <img src="../../../static/img/clipboard-icon.png" alt="">
            <div class="grid grid_2x1">
                {% if ticker_detail.volume %}
                    <div class="tickerPageUserCardTop">{{ticker_detail.volume}}</div>
                {% else %}
                    <div class="tickerPageUserCardTop">-</div>
                {% endif %}
                <div class="tickerPageUserCardBottom">Volume</div>

            </div>
            <img src="../../../static/img/coin-icon.png" alt="">
            <div class="grid grid_2x1">
                {% if ticker_detail.last_price %}
                    <div class="tickerPageUserCardTop">{{ticker_detail.last_price}}</div>
               {% else %}
                    <div class="tickerPageUserCardTop">$-.--</div>
                {% endif %}
                <div class="tickerPageUserCardBottom">Last Price</div>
            </div>

        </div>

        <!-- Chart + Statistics Card  -->
        <div class="grid grid_1x2">

            <!-- Candlestick Graph  -->
            <div class="tickerPageCandlestickCard">
                
                <!-- <div id="chart-div">
                    <script type="text/javascript" src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
                    <script type="text/javascript" src="../../../static/trading_view.js"></script>
                    <div id="chart-container" value="{{ticker_detail.id}}">{{ticker_detail.id}}</div>
                </div> -->
                
            </div>

            <!-- Statistics Graph  -->
            <div class="tickerPageStatisticsCard">
                <header>Statistics</header>
                
                <table class="tickerPageStatisticsCardTable">
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td>Rebounds</td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td>Assits</td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td>Steals</td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td>Blocks</td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td>Turnovers</td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td>3 Points</td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td>Free Throws</td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button class="tickerPageStatisticsCardButtonLeft">X</button>
                        </td>
                        <td>Fouls Drawn</td>
                        <td>
                            <button class="tickerPageStatisticsCardButtonRight">X</button>
                        </td>
                    </tr>
                </table>

                    
            </div>
        </div>

        <!-- Orderbook + Order Submission Field  -->
        <div class="grid grid_1x3">

            <!-- Buy Orderbook  -->
            <div class="tickerPageBuyOrderbookCard">
                <header>Orderbook Buy</header>
                <table class="tickerPageBuyOrderbookTable">
                    
                    <tr>
                        <th class="tickerPageOrderbookTableHeader">Price</th>
                        <th class="tickerPageOrderbookTableHeader">Quantity</th>
                    </tr>
                    {% for buy_order in buy_orders|slice:":10" %}

                        <tr class="tickerPageBuyOrderbookTableRows">
                            <td data-class="Price">{{buy_order.price}}</td>
                            <td class="tickerPageBuyRight" data-class="Quantity">{{buy_order.total_quantity}}</td>
                        </tr>
                    {% endfor %}

                    <tr>
                        <td style="color:white">0</td>
                        <td class="tickerPageBuyRight" style="color:#F5E4E5">0</td>
                    </tr>

                    
                </table>
            </div>

            <!-- Sell Side  -->
            <div class="tickerPageSellOrderbookCard">
                <header>Orderbook Sell</header>
                <table class="tickerPageSellOrderbookTable">
                    
                    <tr>
                        <th class="tickerPageOrderbookTableHeader">Price</th>
                        <th class="tickerPageOrderbookTableHeader">Quantity</th>
                    </tr>
                    {% for sell_order in sell_orders|slice:":10" %}
                    
                        <tr class="tickerPageSellOrderbookTableRows">
                            <td data-class="Price">{{sell_order.price}}</td>
                            <td class="tickerPageSellRight" data-class="Quantity">{{sell_order.total_quantity}}</td>
                        </tr>
                    {% endfor %}
                    
                    <tr>
                        <td style="color:white">0</td>
                        <td class="tickerPageSellRight" style="color:#F5E4E5">0</td>
                    </tr>
                </table>
            </div>

            <!-- Order Submission Card  -->
            <div class="tickerPageOrderSubmissionCard">
                <header>Place Order</header>
                {% if user.is_authenticated %}

                <form id="order-form" method="POST" action="" class="form__order">
                {% csrf_token %}
                    <div class="tickerPageOrderSubmissionField grid grid_4x2">
                        <div class="tickerPageOrderSubmissionPlaceOrderLeft">Order Type</div>
                        <select class="tickerPageOrderSelect" name="order_type">
                            <option value="" style="color:#000E10;" disabled selected>Select</option>
                            <option value="MARKET">Market</option>
                            <option value="LIMIT">Limit</option>
                        </select>
                        <div class="tickerPageOrderSubmissionPlaceOrderLeft">Side</div>
                        <select class="tickerPageSideSelect" name="side">
                            <option value="" style="color:#000E10;" disabled selected>Select</option>
                            <option value="BUY">Buy</option>
                            <option value="SELL">Sell</option>
                        </select>
                        <div class="tickerPageOrderSubmissionPlaceOrderLeft">Price</div>
                        <div class="tickerPagePriceInput">
                            <input class="tickerPagePriceInput" type="text" placeholder="$0.00" name="price">
                        </div>
                        <div class="tickerPageOrderSubmissionPlaceOrderLeft">Quantity</div>
                        <div class="tickerPageQuantityInput">
                            <input class="tickerPageQuantityInput" type="text" placeholder="0" name="quantity">
                        </div>
                        </div>
                        <input type="hidden" name="ticker_id" value="{{ticker_detail.pk}}">
                        <button class="tickerPageSubmitButton" type="submit">Submit</button>
                    </form>
                {% else %}
                    <div class="tickerPageOrderSubmitNonUser">Please Login to place an Order</div>
                {% endif %}
            </div>

        </div>

        





    
        <!-- User Statistics  -->
        <div class="tickerPageUserStatistics">
            <div class="tickerPageUserStatisticsHeader">Recent Activity</div>
            <div class="tickerPageUserStatisticsButtonContainer grid grid_1x4">
                <a 
                    id="order-tab"
                    href="{% url 'index' %}" 
                    class="tickerPageUserStatisticsButtonLeft">
                    <button class="tickerPageUserStatisticsButtonLeft">Orders</button>
                </a>
                <a 
                    id="fills-tab"
                    href="{% url 'index' %}" 
                    class="tickerPageUserStatisticsButtonMiddle">
                    <button class="tickerPageUserStatisticsButtonMiddle">Fills</button>
                </a>
                <a 
                    id="positions-tab"
                    href="{% url 'index' %}" 
                    class="tickerPageUserStatisticsButtonMiddle">
                    <button class="tickerPageUserStatisticsButtonMiddle">Positions</button>
                </a>
                <a 
                    id="historic-orders-tab"
                    href="{% url 'index' %}" 
                    class="tickerPageUserStatisticsButtonMiddle">
                    <button class="tickerPageUserStatisticsButtonRight">Historic Orders</button>    
                </a>    
            </div>
            <div class="tickerPageUserTableCard">
                {% if user.is_authenticated %}
                <table>
                    <tr>
                        <th>Match</th>
                        <th>Timestamp</th>
                        <th>Order Type</th>
                        <th>Side</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Filled Quantity</th>
                        <th>Working Quantity</th>
                        <th>Avg. Fill Price</th>
                        <th>Status</th>
                        <th>Paid Fees</th>
                        <th>Cancel</th>
                    </tr>
                {% for order in user_orders|slice:":20" %}

                    <tr>
                        <td data-class="Match">{{ticker_detail.ticker_id}}</td>
                        <td data-class="Timestamp">{{order.creation_timestamp}}</td>
                        <td data-class="Order Type">{{order.order_type}}</td>
                        <td data-class="Side">{{order.side}}</td>
                        <td data-class="Price">{{order.price}}</td>
                        <td data-class="Quantity">{{order.quantity}}</td>
                        <td data-class="Filled Quantity">{{order.filled_quantity}}</td>
                        <td data-class="Working Quantity">{{order.working_quantity}}</td>                   
                        <td data-class="Avg. Fill Price">{{order.avg_fill_price}}</td>
                        <td data-class="Status">{{order.status}}</td>
                        <td data-class="Paid Fees">{{order.paid_fees}}</td>
                        <td data-class="Cancel"> 
                            <button class="tickerPageUserStatisticsCancelButton">Cancel</button>
                        </td>
                    </tr>

                {% endfor %}


                
                   
                </table>
                {% else %}
                    <div class="tickerPageOrderSubmitNonUser">Please Login to place an Order</div>
                {% endif %}
            </div>
        </div>

    </div>



    <div class="empty"></div>

</div>


</html>